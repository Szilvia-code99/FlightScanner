<div class="login-reg-panel">
    <div class="register-info-box">
      <h2>Don't have an account?</h2>
      <p>Please start filling up the necessary fields on the left side</p>      
    </div>
    <div class="white-panel">
     <div class="login-form">
      <h2>Register</h2>

     <form [formGroup]="userPasswordRegisterForm" class="login-form mt-2 mt-md-0" >
      <div class="form-group">
        <label for="inputUsername">Username : </label>
        <input
        [class.is-invalid]='userPasswordRegisterForm.get("username").errors && userPasswordRegisterForm.get("username").touched'
        name="username"
        class="form-control mr-sm-2"
        type="text"
        [(ngModel)]="model.username"
        formControlName="username"
        placeholder="Username">
        <div class="invalid-feedback">Please enter a username</div>
      </div>

      <div class="form-group">
        <label for="inputPassword">Password :</label>
        <input
        [class.is-invalid]='userPasswordRegisterForm.get("password").errors && userPasswordRegisterForm.get("password").touched'
        name="password"
        class="form-control mr-sm-2"
        type="password"
        [(ngModel)]="model.password"
        formControlName="password"
        placeholder="Password">
        <div *ngIf="userPasswordRegisterForm.get('password').hasError('required')" 
          class="invalid-feedback"> Please enter a password </div>
        <div *ngIf="userPasswordRegisterForm.get('password').hasError('minlength')"
          class="invalid-feedback"> Password must be at least 4 characters </div>
        <div *ngIf="userPasswordRegisterForm.get('password').hasError('maxlength')" 
          class="invalid-feedback"> Password must be at most 8 characters </div>
      </div>

      <div class="form-group">
        <label for="inputConfirmedPassword">Confirm Password : </label>
        <input
        [class.is-invalid]='userPasswordRegisterForm.get("confirmPassword").errors && userPasswordRegisterForm.get("confirmPassword").touched'
        name="confirmpassword"
        class="form-control mr-sm-2"
        type="password"
        formControlName="confirmPassword"
        placeholder="Confirm Password">
        <div *ngIf="userPasswordRegisterForm.get('confirmPassword').hasError('required')" 
          class="invalid-feedback"> Please enter a confirm password </div>
        <div *ngIf="userPasswordRegisterForm.get('confirmPassword').hasError('isMatching')" 
          class="invalid-feedback"> Confirm password must match password </div>
      </div>

      <button [disabled]='!userPasswordRegisterForm.valid' class="btn btn-primary btn-outline-succes my-1 my-sm-0" (click)="nextForm()" type="button">Next</button>
    </form>

  <form *ngIf="next" [formGroup]="personalDataRegisterForm" class="login-form mt-2 mt-md-0" (ngSubmit)="register()">
    <div class="form-group">
      <label for="inputFirstname">Firstname : </label>
      <input
      [class.is-invalid]='personalDataRegisterForm.get("firstname").errors && personalDataRegisterForm.get("firstname").touched'
      name="firstname"
      class="form-control mr-sm-2"
      type="text"
      formControlName="firstname"
      [(ngModel)]="model.firstname"
      placeholder="Firstname">
      <div *ngIf="personalDataRegisterForm.get('firstname').hasError('required')" 
        class="invalid-feedback"> Please enter your firstname </div>
     </div>

    <div class="form-group">
      <label for="inputLastname">Lastname : </label>
      <input
      [class.is-invalid]='personalDataRegisterForm.get("lastname").errors && personalDataRegisterForm.get("lastname").touched'
      name="lastname"
      class="form-control mr-sm-2"
      type="text"
      formControlName="lastname"
      [(ngModel)]="model.lastname"
      placeholder="Lastname">
      <div *ngIf="personalDataRegisterForm.get('lastname').hasError('required')" 
        class="invalid-feedback"> Please enter your lastname </div>      
    </div>

    <div class="form-group">
      <label for="inputDateOfBirth">Date of birth : </label>
      <input
      [class.is-invalid]='personalDataRegisterForm.get("dateOfBirth").errors && personalDataRegisterForm.get("dateOfBirth").touched'
      name="dateOfBirth"
      class="form-control mr-sm-2"
      type="date"
      [(ngModel)]="model.dateOfBirth"
      formControlName="dateOfBirth"
      placeholder="Date of birth">
      <div *ngIf="personalDataRegisterForm.get('dateOfBirth').hasError('required')" 
        class="invalid-feedback"> Please enter your date of birth </div>
    </div>  

    <div class="form-group">
      <label for="inputSerialID">Serial ID: </label>
      <input
      [class.is-invalid]='personalDataRegisterForm.get("idnumber").errors && personalDataRegisterForm.get("idnumber").touched'
      name="idnumber"
      class="form-control mr-sm-2"
      type="number"
      [(ngModel)]="model.idnumber"
      formControlName="idnumber"
      placeholder="IdNumber">
      <div *ngIf="personalDataRegisterForm.get('idnumber').hasError('required')" 
        class="invalid-feedback"> Please enter your serial ID number</div>      
    </div>

     <button class="btn btn-default mr-2" (click)="back()" type="button">Back</button>
     <button [disabled]='!personalDataRegisterForm.valid || !userPasswordRegisterForm.valid' class="btn btn-primary btn-outline-succes my-1 my-sm-0" type="submit">Register</button>
  </form>
</div>